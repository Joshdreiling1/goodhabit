
// REQUIRED DEPENDENCIES
//////////////////////////////////////////////////////////////////////////////////////////
require('dotenv').config();
const cors = require('cors')
, express = require('express')
, bodyParser = require('body-parser')
, massive = require('massive')
, session = require('express-session')
, passport = require('passport')
// , Auth0Strategy = require('passport-auth0')
const app = express();
const port  =  3080;
//////////////////////////////////////////////////////////////////////////////////////////
app.use(bodyParser.json());
app.use(cors());
app.use(passport.initialize());
app.use(passport.session());
app.use(express.static('build'));
//////////////////////////////////////////////////////////////////////////////////////////

// CONTROLLERS
//////////////////////////////////////////////////////////////////////////////////////////
const controller = require('./controllers/controller');
//////////////////////////////////////////////////////////////////////////////////////////

// DB CONNECTION
//////////////////////////////////////////////////////////////////////////////////////////
massive(process.env.CONNECTION_STRING)
.then( db => {
    app.set('db', db)
})
//////////////////////////////////////////////////////////////////////////////////////////

// REST ENDPOINTS
//////////////////////////////////////////////////////////////////////////////////////////
// GET
// POST
// PUT
// DELETE
//////////////////////////////////////////////////////////////////////////////////////////

// AUTH0
//////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////

// PORT
//////////////////////////////////////////////////////////////////////////////////////////
app.listen(port, () => console.log(`listening on port ${port}`));